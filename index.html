<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilot Flight Tracker - Track Your Flight Hours & Lo </title>
    <meta name="description" content="Professional pilot flight tracker for logging flight hours, managing aircraft, and tracking pilot certifications. Free online logbook for pilots.">
    <meta name="keywords" content="pilot flight tracker, flight logbook, aviation tracker, pilot hours, flight log, aircraft tracking">
    <meta name="author" content="Pilot Flight Tracker">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Pilot Flight Tracker - Track Your Flight Hours">
    <meta property="og:description" content="Professional pilot flight tracker for logging flight hours and managing aircraft.">
    <meta property="og:url" content="https://your-site.netlify.app">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://your-site.netlify.app">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0f3460">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Flight Tracker">
    
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css' rel='stylesheet' />
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap' rel='stylesheet'>
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href='assets/styles.css' rel='stylesheet'>
    
</head>
<body>
    <div class="container">
        <div class="d-flex justify-content-between align-items-center my-4">
                <h1 class="m-0">
                    <i class='bx bxs-plane-take-off'></i>
                    <span data-i18n="title">Pilot Flight Tracker</span>
                </h1>
                <div>
                    <button id="settingsToggle" class="btn btn-secondary" data-i18n="settings">Settings</button>
                </div>
            </div>

            <!-- Reminder banner (populated by JS when there are upcoming reminders) -->
            <div id="reminderBannerContainer" class="mb-3"></div>

            <!-- Tabbed content -->
            <ul class="nav nav-tabs mb-3" id="mainTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="calendar-tab" data-bs-toggle="tab" data-bs-target="#calendarTabPane" type="button" role="tab" aria-controls="calendarTabPane" aria-selected="true" data-i18n="calendarTab">Calendar</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="personal-tab" data-bs-toggle="tab" data-bs-target="#personalTabPane" type="button" role="tab" aria-controls="personalTabPane" aria-selected="false" data-i18n="personalTab">Personal Info</button>
              </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="reminders-tab" data-bs-toggle="tab" data-bs-target="#remindersTabPane" type="button" role="tab" aria-controls="remindersTabPane" aria-selected="false" data-i18n="remindersTab">Reminders</button>
                        </li>
            </ul>
            <div class="tab-content" id="mainTabContent">
              <div class="tab-pane fade show active" id="calendarTabPane" role="tabpanel" aria-labelledby="calendar-tab">
                <!-- Calendar and forms go here (existing content) -->

                <!-- Settings panel (hidden) -->
                <div id="settingsPanel" class="card mb-3" style="display:none;">
                    <div class="card-body d-flex flex-column gap-2 align-items-start">
                        <div class="d-flex gap-2 align-items-center w-100">
                            <span class="me-2" data-i18n="sandboxDataLabel">Sandbox / Data:</span>
                            <button id="veriTemizle" class="btn btn-danger" data-i18n="veriTemizle">Clear All Data</button>
                        </div>
                        <div class="d-flex gap-2 align-items-center w-100">
                                        <button id="exportCsv" class="btn btn-outline-light" data-i18n="exportCsv">Export CSV</button>
                                        <button id="exportJson" class="btn btn-outline-light" data-i18n="exportJson">Export JSON</button>
                            <label class="btn btn-outline-light mb-0">
                                            <span data-i18n="importFile">Import File</span>
                                <input id="importFile" type="file" accept=".csv,.json" style="display:none">
                            </label>
                            <small class="text-muted ms-3" data-i18n="importHint">(Upload a CSV or JSON file)</small>
                        </div>
                                    <!-- language selector removed: app is English-only -->
                        <small class="text-muted ms-1" data-i18n="settingsWarning">(This will clear all records stored in localStorage)</small>
                    </div>
                </div>

                <!-- Add Flight Form -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title" data-i18n="addFlight">Add New Flight</h5>
                        <form id="ucusForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="havaAraci" class="form-label" data-i18n="havaAraci">Aircraft</label>
                                    <input type="text" class="form-control" id="havaAraci" list="havaAraciList" required>
                                    <datalist id="havaAraciList"></datalist>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="ucusPilotlari" class="form-label" data-i18n="pilotlar">Pilots</label>
                                    <select class="form-control" id="ucusPilotlari" data-pseudo="pilot-role" required>
                                        <option value="pilot" data-i18n="pilot_role_pilot">Pilot</option>
                                        <option value="first_officer" data-i18n="pilot_role_first_officer">First Officer</option>
                                        <option value="instructor" data-i18n="pilot_role_instructor">Instructor</option>
                                        <option value="examiner" data-i18n="pilot_role_examiner">Examiner</option>
                                        <option value="student" data-i18n="pilot_role_student">Student</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="ucusCrew" class="form-label" data-i18n="crew">Crew</label>
                                    <input type="text" class="form-control" id="ucusCrew" placeholder="" data-i18n-placeholder="crewPlaceholder">
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="ucusSuresi" class="form-label" data-i18n="ucusSuresi">Flight Duration (hrs)</label>
                                    <input type="number" class="form-control" id="ucusSuresi" step="0.1" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="kalkisYeri" class="form-label" data-i18n="kalkisYeri">Departure</label>
                                    <input type="text" class="form-control" id="kalkisYeri" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="inisYeri" class="form-label" data-i18n="inisYeri">Arrival</label>
                                    <input type="text" class="form-control" id="inisYeri" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="ucusTarihi" class="form-label" data-i18n="ucusTarihi">Flight Date</label>
                                    <input type="datetime-local" class="form-control" id="ucusTarihi" required placeholder="MM/DD/YYYY HH:MM" lang="en-US">
                                    <small id="ucusTarihiHint" class="form-text text-muted mt-1">MM/DD/YYYY HH:MM</small>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="ucusTipi" class="form-label" data-i18n="ucusTipi">Flight Type</label>
                                    <select class="form-control" id="ucusTipi" required>
                                        <option value="egitim" data-i18n="type_egitim">Training</option>
                                        <option value="kontrol" data-i18n="type_kontrol">Check</option>
                                        <option value="vip" data-i18n="type_vip">VIP</option>
                                        <option value="sihhiye" data-i18n="type_sihhiye">Medical</option>
                                        <option value="kurtarma" data-i18n="type_kurtarma">Rescue</option>
                                        <option value="operasyon" data-i18n="type_operasyon">Operation</option>
                                    </select>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="ucusZamani" class="form-label" data-i18n="ucusZamani">Flight Time</label>
                                    <select class="form-control" id="ucusZamani">
                                        <option value="day" data-i18n="timeDay">Day</option>
                                        <option value="night" data-i18n="timeNight">Night</option>
                                    </select>
                                </div>
                                <div class="col-md-3 mb-3 d-flex align-items-end">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="nightVision">
                                        <label class="form-check-label" for="nightVision" data-i18n="nightVision">Night Vision</label>
                                    </div>
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="ucusNotu" class="form-label" data-i18n="note">Note</label>
                                    <textarea class="form-control" id="ucusNotu" rows="2" placeholder="Additional info..." data-i18n-placeholder="notePlaceholder"></textarea>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" data-i18n="addFlight">Add Flight</button>
                        </form>
                    </div>
                </div>

                <!-- Takvim -->
                <div class="card">
                    <div class="card-body">
                        <div id="calendar"></div>
                    </div>
                </div>

              </div>
          <div class="tab-pane fade" id="personalTabPane" role="tabpanel" aria-labelledby="personal-tab">
              <div class="card bg-dark text-light p-4 mt-3">
                  <h4 class="mb-4" data-i18n="title_personal">My Flight Info</h4>
                  <div class="row">
                      <div class="col-md-4 d-flex flex-column align-items-center justify-content-center mb-3">
                          <canvas id="flightPieChart" width="220" height="220"></canvas>
                          <div class="mt-2 small text-muted" data-i18n="chart_all">All Flight Types</div>
                      </div>
                      <div class="col-md-4 d-flex flex-column align-items-center justify-content-center mb-3">
                          <canvas id="flightDayChart" width="220" height="220"></canvas>
                          <div class="mt-2 small text-muted" data-i18n="chart_day">Day Flights</div>
                      </div>
                      <div class="col-md-4 d-flex flex-column align-items-center justify-content-center mb-3">
                          <canvas id="flightNightChart" width="220" height="220"></canvas>
                          <div class="mt-2 small text-muted" data-i18n="chart_night">Night Flights</div>
                      </div>
                  </div>

                  <div class="row mt-3">
                      <div class="col-md-6">
                          <ul class="list-group list-group-flush mb-3">
                              <li class="list-group-item bg-dark text-light"><strong data-i18n="weeklyLabel">This Week Total Flight Hours:</strong> <span id="weeklyFlightHours">0</span> <span data-i18n="hours">hrs</span></li>
                              <li class="list-group-item bg-dark text-light"><strong data-i18n="monthlyLabel">This Month Total Flight Hours:</strong> <span id="monthlyFlightHours">0</span> <span data-i18n="hours">hrs</span></li>
                              <li class="list-group-item bg-dark text-light"><strong data-i18n="totalLabel">Total Flight Hours:</strong> <span id="totalFlightHours">0</span> <span data-i18n="hours">hrs</span></li>
                          </ul>
                          <div id="flightTypeStats" class="mb-3"></div>
                      </div>
                      <div class="col-md-6">
                          <div class="card bg-dark text-light mb-3 p-3">
                              <div class="d-flex align-items-center mb-2">
                                  <h6 class="m-0 me-2" data-i18n="myAircrafts">My Aircraft</h6>
                                  <small class="text-muted" data-i18n="manageAircraftHint">Add aircraft you use often here</small>
                              </div>
                              <div class="input-group mb-2">
                                  <input id="newAircraftInput" class="form-control form-control-sm" placeholder="Aircraft name" data-i18n-placeholder="aircraftPlaceholder">
                                  <button id="addAircraftBtn" class="btn btn-sm btn-primary" data-i18n="addAircraftBtn">Add</button>
                              </div>
                              <div id="myAircraftList" class="small"></div>
                          </div>
                          <div class="mb-3">
                              <button id="clearPersonalData" class="btn btn-sm btn-danger" data-i18n="clearPersonalData">Clear Personal Data</button>
                              <small class="text-muted ms-2" data-i18n="clearPersonalHint">(This will delete all flight records in your session)</small>
                          </div>
                      </div>
                  </div>

                  <details class="bg-dark p-2 rounded" style="color:#ddd;">
                      <summary style="cursor:pointer;" data-i18n="showSavedFlights">Show Saved Flights</summary>
                      <div id="personalFlightList" class="mt-2"></div>
                  </details>
              </div>
          </div>
              <div class="tab-pane fade" id="remindersTabPane" role="tabpanel" aria-labelledby="reminders-tab">
                  <div class="card p-3 mt-3">
                      <h5 data-i18n="remindersTitle">Reminders</h5>
                      <div class="row g-2 align-items-end">
                          <div class="col-md-4">
                              <label class="form-label" data-i18n="havaAraci">Aircraft</label>
                              <input type="text" id="rem_havaAraci" class="form-control" list="havaAraciList">
                          </div>
                          <div class="col-md-4">
                              <label class="form-label" data-i18n="pilotlar">Pilots</label>
                                                        <select id="rem_pilotlar" class="form-control" data-pseudo="pilot-role">
                                                            <option value="pilot" data-i18n="pilot_role_pilot">Pilot</option>
                                                            <option value="first_officer" data-i18n="pilot_role_first_officer">First Officer</option>
                                                            <option value="instructor" data-i18n="pilot_role_instructor">Instructor</option>
                                                            <option value="examiner" data-i18n="pilot_role_examiner">Examiner</option>
                                                            <option value="student" data-i18n="pilot_role_student">Student</option>
                                                        </select>
                          </div>
                          <div class="col-md-4">
                              <label class="form-label" data-i18n="reminderDate">Date & Time</label>
                              <input type="datetime-local" id="rem_date" class="form-control">
                          </div>
                      </div>
                      <div class="row g-2 align-items-end mt-2">
                          <div class="col-12 col-sm-9">
                              <label class="form-label" data-i18n="reminderNote">Note</label>
                              <input type="text" id="rem_note" class="form-control" value="">
                          </div>
                          <div class="col-12 col-sm-3 d-grid">
                              <button id="addReminderBtn" class="btn btn-primary" data-i18n="addReminderBtn">Add Reminder</button>
                          </div>
                      </div>
                      <hr>
                      <div id="remindersCalendar" class="mb-3" style="min-height:300px;"></div>
                      <h6 data-i18n="remindersList">Saved Reminders</h6>
                      <div id="remindersList" class="mt-2"></div>
                  </div>
              </div>
            </div>

        <!-- Chart.js -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <!-- Modal -->
        <div class="modal fade" id="ucusDetayModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" data-i18n="ucusDetaylar">Flight Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div id="ucusDetaylari"></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-light" id="ucusDuzenle" data-i18n="edit">Edit</button>
                        <button type="button" class="btn btn-danger" id="ucusSil" data-i18n="deleteFlight">Delete Flight</button>
                        <button type="button" class="btn btn-success" id="ucusKaydet" style="display:none;" data-i18n="saveBtn">Save</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-i18n="closeBtn">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.js'></script>
        <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js'></script>
        <script>
            // Force English locale
            localStorage.setItem('app_lang', 'en');
            
            // Register Service Worker for PWA
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/service-worker.js')
                        .then(reg => console.log('Service Worker registered'))
                        .catch(err => console.log('Service Worker registration failed:', err));
                });
            }
        </script>
        <script src='assets/app.js'></script>
        </div>
        </body>
        </html>